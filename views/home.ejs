<%- include ('_partials/_header'); -%>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<div class ="container-fluid"></div>
<div>
    <h1>Water Quality Data</h1>
</div>
<div style="width: 800px;">
  <canvas id="myChart"></canvas>
  <script>
  const data = {
    'Poo': 85134,
    'Lemons': 95514,
    'Goats': 80460,
    'Chemicals': 57022,
    'Flouride': 32165,
    'Frogs': 67022,
    'Blood': 90460,
    'Poop': 85134,
    'Bodies': 49420,
    'MCFC': 49420,
    'French Lemons': 100000,
    'Tips': 130000,
    'Trollies': 100000,
    'British Apples': 49420,
    'Water': 49420
  }

  const ctx = document.getElementById('myChart').getContext('2d');
  let delayed;
  const myChart = new Chart(ctx, {
    type: 'polarArea',
    data: {
      labels: Object.keys(data),
      datasets: [
        {
          label: 'Pollutants per Unit',
          data: Object.values(data),
        },
      ],
    },
    options: {
      scales: {
        r: {
            angleLines: {
                display: false
            },
            suggestedMin: 0
        }
    },
    animation: {
      onComplete: () => {
        delayed = true;
      },
      delay: (context) => {
        let delay = 0;
        if (context.type === 'data' && context.mode === 'default' && !delayed) {
          delay = context.dataIndex * 300 + context.datasetIndex * 100;
        }
        return delay;
      },
    },
  },
  });
</script>
</div>
<div>
</div>
<%- include ('_partials/_footer'); -%>